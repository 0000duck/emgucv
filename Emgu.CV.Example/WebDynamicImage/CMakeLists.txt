PROJECT(Example.WebDynamicImage)

GET_TARGET_PROPERTY(OPENCV_CORE_LOCATION opencv_core LOCATION)
GET_TARGET_PROPERTY(OPENCV_IMGPROC_LOCATION opencv_imgproc LOCATION)
GET_TARGET_PROPERTY(OPENCV_HIGHGUI_LOCATION opencv_highgui LOCATION)
GET_TARGET_PROPERTY(OPENCV_OBJDETECT_LOCATION opencv_objdetect LOCATION)
GET_TARGET_PROPERTY(CVEXTERN_LOCATION cvextern LOCATION)
GET_TARGET_PROPERTY(OPENCV_ML_LOCATION opencv_ml LOCATION)

ADD_CUSTOM_TARGET(
   ${PROJECT_NAME} ALL
   COMMAND ${CMAKE_COMMAND} -E copy ${OPENCV_CORE_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
   COMMAND ${CMAKE_COMMAND} -E copy ${OPENCV_IMGPROC_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
   COMMAND ${CMAKE_COMMAND} -E copy ${OPENCV_OBJDETECT_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
   COMMAND ${CMAKE_COMMAND} -E copy ${OPENCV_HIGHGUI_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
   COMMAND ${CMAKE_COMMAND} -E copy ${CVEXTERN_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
   COMMAND ${CMAKE_COMMAND} -E copy ${OPENCV_ML_LOCATION} ${CMAKE_CURRENT_SOURCE_DIR}/Bin
)
ADD_DEPENDENCIES(${PROJECT_NAME} Emgu.CV Emgu.CV.UI opencv_core opencv_imgproc opencv_highgui opencv_objdetect opencv_ml cvextern)


